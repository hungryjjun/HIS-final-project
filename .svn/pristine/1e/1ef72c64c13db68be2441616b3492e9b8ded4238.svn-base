//ì§ì› ëª©ë¡
$(document).ready(function () {
    $("#empListBtn").click(function (e) {
        e.preventDefault();
        console.log("ğŸ“Œ ì§ì› ëª©ë¡ ë²„íŠ¼ í´ë¦­ë¨!");

        $.ajax({
            url: "/messenger/empList",
            type: "GET",
            dataType: "json",
            success: function (data) {
                console.log("âœ… ì§ì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì„±ê³µ", data);

                let empListHtml = `
                    <h3>ì§ì› ëª©ë¡</h3>
                    <ul id="empList">
                `;

                data.forEach(emp => {
                    empListHtml += `
                        <li class="employee-item">
                            <strong>ì´ë¦„:</strong> ${emp.empName} <br>
                            <strong>ë¶€ì„œ:</strong> ${emp.department.departmentName} <br>
                            <strong>ì§ê¸‰:</strong> ${emp.empRank} <br>
                            <strong>íŒ€:</strong> ${emp.teamName} <br>
                        </li>
                    `;
                });

                empListHtml += `</ul>`;

                $("#contentArea").html(empListHtml);
                console.log("âœ… ì§ì› ëª©ë¡ ì—…ë°ì´íŠ¸ ì™„ë£Œ");
            },
            error: function (xhr, status, error) {
                console.error("âŒ ì§ì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨", status, error);
                alert("ì§ì› ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            }
        });
    });
});